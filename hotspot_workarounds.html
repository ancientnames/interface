<!DOCTYPE html>
<html>
    <head>
        <title>Circumventing Phone WiFi Hotspot Limitations</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>

    <!-- Side navigation -->
    <div class="sidenav">
        <a href="reals.html">reals</a>
        <a href="fictions.html">fictions</a>
        <a href="thinkings.html">thinkings</a>
        <a href="about.html">about</a>
    </div>
    
    <!-- main body -->
    <div class="main">
        <h1>Circumventing Phone WiFi Hotspot Limitations</h1>
            <p>
                While writing this, I use a Google Pixel 3a as my phone. While it has a WiFI hotspot feature and can successfully connect to computers, it does not provide internet access when using data (i.e. when there is no available WiFi network). This effectively makes the feature useless and, in some cases, can be <em>dangerous</em>: Someone might naively check that the WiFi hotspot connects to their computer and provides internet when the phone is connected to an at-home WiFI network and then travel somewhere where they need a connection but do not have a WiFi network, only to realize that the hotspot does not work at the exact moment they need it. 
            </p>
            <p>
                Here I discuss some solutions in-detail I've experimented with and have found to provide internet to my devices. I believe that these methods might also help get around issues where tethered/hotspot WiFi connections are throttled rather than completely disabled but I cannot speak to them personally. Note that my computer has a Linux operating system so most of the info will pertain to setting things up with Linux. Also note that both methods route through phone applications which may or may not actually be secure (for that, just encrypt things yourself with PGP).
            </p>
        <h2>Routing Phone Data Through a Proxy with Termux</h2>
            <p>
                This <a href="https://www.reddit.com/r/linux/comments/8p5tug/bypassing_verizons_unlimited_plans/">reddit thread</a> describes the use of the termux app to get around throttling (Credit to <a href="https://everythingtosaveit.how/slackmobiles/">Char & Astria</a> for indicating that it works for my use-case). If you feel comfortable with the explanations in the links, you can just follow them. However, I didn't find them very clear and asked a computer-science friend for help, and can now confirm it works for me. Here are the steps you need to take in detail:
            </p>
            <p>
                <b>Step 1</b> Install <a href="https://play.google.com/store/apps/details?id=com.termux&hl=en_US">termux</a> on your phone
                <br>
                <br>
                <b>Step 2</b> Open termux on your phone and install some packages:
                <br>
                <code>pkg install openssh</code>
                <br>
                <code>pkg install wget</code>
                <br>
                The second package might not be necessary but it was used in the reddit thread.
                <br>
                <br>
                <b>Step 3</b> With termux open on your phone, set up a password:
                <br>
                <code>password <b>&#60;secret_password&#62;</b></code> 
                <br>
                <b><code>&#60;secret_password&#62;</code></b> is yours to choose, and you should remember/write it down.
                <br>
                <br>
                <b>Step 4</b> Turn on your phone's WiFi hotspot capability and connect your computer to the network.
                <br>
                <br>
                <b>Step 5</b> With termux open on your phone, enter this:
                <br>
                <code>sshd -4dD</code>
                <br>
                When this runs, a number of outputs will be printed to the terminal, ending in something like this:
                <br>
                <code>Server listening on 0.0.0.0 port <b>&#60;server_port&#62;</b></code>
                <br>
                Then note down <code><b>&#60;server_port&#62;</b></code>.
                <br>
                <br>
                <b>Step 6</b> Open a second terminal in termux. On Android this can be done by navigating to the location of the termux icon on app panel, tapping it and holding it. Then click the "New sesson" button shows up. In this terminal, enter:
                <br>
                <code>ip -4 addr</code>
                <br>
                Then identify an appropriate IP address, <code><b>&#60;ip_address&#62;</b></code>. A viable IP address is preceded immediately by "inet" looks like XXX.XXX.XX.XXX where X represents a digit. If this is followed by a backslash and two digits, it's okay (ignore this part though.). Note down the IP address.
                <br>
                <br>
                <b>Step 7</b> Open a terminal on your computer and enter:
                <br>
                <code>ssh -T -N -D <b>&#60;localport&#62;</b> -p <b>&#60;server_port&#62;</b> <b>&#60;ip_address&#62;</b></code>
                <br>
                where <code><b>&#60;localport&#62;</b></code> is an integer between 10000 and 60000. Note this down.
                <br>
                <br>
                <b>Step 8</b> If terminal asks you if you want to continue connecting, type <code>yes</code>. Then a password will be requested. Enter <b><code>&#60;secret_password&#62;</code></b> as your password.
                <br>
                <br>
                <b>Step 9</b> Type the following to generate a chromium instance that has access to the internet via phone data:
                <br>
                <code>chromium --proxy-server="socks5://127.0.0.1:<b>&#60;localport&#62;</b>"</code>     
                <br>
                This will open a chromium browser with connection to the internet. This can also be done on other web browsers in different ways.  
            </p>
            <p>
                Once this process has been followed, future connections to the hotspot only require steps 4 through 9. Note that, because the proxy server has only been set-up with the web browser of your choice, no other application will have access to the internet at this point -- which may be a problem.
            </p>
        <h2>Bluetooth Tethering with SecureTether</h2>
            <p>
                With respect to browsing the internet, I am under the impressioon that the above method is better/faster than this one. However, if you want your computer applications to have internet access by default or cannot use the above method for whatever reason (e.g. because there might not be an easy way to do it without Linux), the <a href="https://play.google.com/store/apps/details?id=com.panjava.internet.tethering.secure.bluetooth.securetether&hl=en_US&showAllReviews=true">SecureTether</a> app works great.
            </p>
            <p>
                Once you download the app and open it on your device (it has instructions for Windows, MacOS, Linux and Android), it will provide comprehensive instructions for how to get it set-up and connected successfully. I recommend reading the instructions carefully (I forgot to open a terminal with root which led to some confusion when I set it up). Once it's set-up, here's some streamlined instructions for how you can connect. You should know your <code><b>&#60;channel_number&#62;</b></code> and <code><b>&#60;MAC_address&#62;</b></code> from following the in-app instructions.
            </p>
            <p>
                <b>Step 1</b> On your phone, go to settings and activate bluetooth tethering functionality
                <br>
                <br>
                <b>Step 2</b> On your computer, activate bluetooth by opening a terminal and entering:
                <br>
                <code>systemctl start bluetooth</code>
                <br>
                <br>
                <b>Step 3</b> On a terminal on your computer, enter:
                <br>
                <code>sudo rfcomm bind <b>&#60;channel_number&#62;</b> <b>&#60;MAC_address&#62;</b> <b>&#60;channel_number&#62;</b></code>
                <br>
                If a user password is requested here, enter it and continue.
                <br>
                <br>
                <b>Step 4</b> Enter the following:
                <br>
                <code>sudo chmod 666 /dev/rfcomm<b>&#60;channel_number&#62;</b></code>
                <br>
                <br>
                <b>Step 5</b> Finally, enter:
                <br>
                <code>/usr/sbin/pppd user Default password 1 call securetether /dev/rfcomm<b>&#60;channel_number&#62;</b></code>
                <br>
                You should see "primary DNS address 192.168.234.1" as stated in the instructions. Now you can go to <a href="http://webui.securetether.com/">http://webui.securetether.com/</a> to monitor your connection. Note that, at no point in this process should you manually tell your computer to connect to your phone via a network manager or any other way not described above; your network manager should still indicate that there are no connections.
            </p>
            <p>
                If this does not work for you, I'd recommend restarting your computer and following the in-app instructions as accurately as possible. Usually this the desired result and you can debug from there. This method is much slower than using termux but computer applications can take advantage of it (i.e. I know how to use my desktop version of <a href="https://www.signal.org/">Signal</a> to talk with friends via SecureTether but not via termux).
            </p>
    </div>

</body>
</html> 
